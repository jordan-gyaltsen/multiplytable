<!DOCTYPE html>
<html lang="en">
<head>
    <!-- meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Multiplication table</title>
    <style>
        table,
        th,
        td {
          padding: 10px;
          border: 1px solid black;
          border-collapse: collapse;
        }
    </style>
</head>

<body>
    <p id="demo"></p>
    <div id="msg"><p id=errormsg></p></div>


    <!--<h2>JavaScript addEventListener()</h2>
    <p>This tries to uses the addEventListener() method to read data from a form with error handling and updating
        <br> however, values won't update after changing them and pressing submit again. as seen when chaging max column value entry.
        <br> between different numbers and between no input to input.
    </p>-->
      <section class="container">

        <!-- onsubmit stops page from resetting -->
        <form id="myform" onsubmit="event.preventDefault(); newFunction();">
            <div>
                <label for="colmin">Minimum column value (between -50 and 50):</label>
                <input type="number" id="colmin" name="colmin" min="-50" max="50" required>
            </div>

            <div>
                <label for="colmax">Maximum Column Value (between -50 and 50):</label>
                <input type="number" id="colmax" name="colmax" min="-50" max="50" required>
            </div>
            <div>
                <label for="rowmin">Minimum Row Value (between -50 and 50):</label>
                <input type="number" id="rowmin" name="rowmin" min="-50" max="50" required>
            </div>
            <div>
                <label for="rowmax">Maximum Row Value (between -50 and 50):</label>
                <input type="number" id="rowmax" name="rowmax" min="-50" max="50" required>
            </div>
            <div>
                <!-- <button id="btn">Submit</button> -->
                <input id="btn" class="button" type="submit" value="Submit">

            </div>
        </form>
        <div width=100px height=100px overflow=scroll>
            <table id='mytable'></table>
        </div>


<script>

    function newFunction() {
        // const errormsg = document.getElementById("errormsg").value;
        const colmin = document.getElementById("colmin");
        const colmax = document.getElementById("colmax");
        const rowmin = document.getElementById("rowmin");
        const rowmax = document.getElementById("rowmax");

        var table = document.getElementById('mytable');

        table.innerHTML = ''

        var output = "";

        //blank element we will be changing
        console.log(rowmin.value);
        console.log(rowmax.value);
        console.log(colmin.value);
        console.log(colmax.value);


        for (var j = colmin.value - 1; j <= colmax.value; j++) {
            var tr = document.createElement("tr");
            if (j == colmin.value - 1) {
                var cell = document.createElement("td");
                cell.innerHTML = '';
                tr.appendChild(cell) // empty cell
                for (i = rowmin.value; i <= rowmax.value; i++) {
                    var cell = document.createElement("td");
                    cell.innerHTML = i;
                    tr.appendChild(cell)
                }
            } else {
                var cell = document.createElement("td");
                cell.innerHTML = j;
                tr.appendChild(cell)
                for (i = rowmin.value; i <= rowmax.value; i++) {
                    var cell = document.createElement("td");
                    cell.innerHTML = i*j;
                    tr.appendChild(cell)
                }
            }
            table.appendChild(tr);
        }
        // Insert table
        
  }
</script>

</body>
</html>